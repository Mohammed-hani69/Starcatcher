<!DOCTYPE html>
<html dir="rtl" lang="ar">
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="static/css/dashboard.css">
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <!-- Ø¥Ø¶Ø§ÙØ© Ù…ÙƒØªØ¨Ø© Chart.js Ù„Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ© -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.9.3/dropzone.min.css">
        <link rel="icon" type="image/png" href="{{ url_for('static', filename='image/STAR CATCHER FINAL LOGO-11.png') }}">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.9.3/dropzone.min.js"></script>
        <meta name="csrf-token" content="{{ csrf_token }}">
    </head>
    <body>
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="logo">
                <img src="/api/placeholder/45/45" alt="Logo">
                <span>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</span>
            </div>
            
            <div class="nav-section">
                <div class="nav-section-title">Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>
                <nav>
                    <a href="/dashboard" class="nav-item active">
                        <i>ğŸ </i>
                        <span>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
                    </a>
                    {% if current_user.can_manage_players == True %}
                    <a href="/add_player" class="nav-item ">
                        <i>ğŸ‘¥</i>
                        <span>Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†</span>
                    </a>
                    {% endif %}
                    {% if current_user.can_manage_clubs == True %}
                    <a href="/add_club" class="nav-item">
                        <i>âš½</i>
                        <span>Ø§Ù„Ø£Ù†Ø¯ÙŠÙ‡</span>
                    </a>
                    {% endif %}
                    {% if current_user.can_manage_subscriptions == True %}
                    <a href="/add_subscription" class="nav-item">
                        <i>ğŸ†</i>
                        <span>Ø§Ù„Ø¨Ø§Ù‚Ø§Øª</span>
                    </a>
                    {% endif %}
                </nav>
            </div>

            <div class="nav-section">
                {% if current_user.can_manage_users == True %}
                <div class="nav-section-title">Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</div>
                <nav>
                        <a href="/users" class="nav-item">
                            <i>ğŸ‘¥</i>
                            <span>Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</span>
                        </a>
                        <a href="/subscription_purchases" class="nav-item">
                            <i>ğŸ’³</i>
                            <span>Ù…Ø´ØªØ±ÙŠØ§Øª Ø§Ù„Ø¨Ø§Ù‚Ø§Øª</span>
                        </a>
                        <a href="#" class="nav-item">
                            <i>âš™ï¸</i>
                            <span>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</span>
                        </a>
                        <a href="#" class="nav-item">
                            <i>ğŸ“</i>
                            <span>Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</span>
                        </a>
                    </nav>
                </div>
                {% endif %}
            <!-- Ø¥Ø¶Ø§ÙØ© Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø£Ø³ÙÙ„ Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ -->
        <div class="logout-section">
            <a href="/" class="nav-item logout-btn">
                <i class="fas fa-globe"></i>
                <span>Ø§Ù„Ù…ÙˆÙ‚Ø¹</span>
            </a>
            <a href="/logout" class="nav-item logout-btn">
                <i>ğŸšª</i>
                <span>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</span>
            </a>
        </div>
        </aside>

        <!-- Header -->
        <header class="header">
            <!-- Ø¥Ø¶Ø§ÙØ© Ø²Ø± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© -->
            <div class="burger-menu">
                <div class="burger-line"></div>
                <div class="burger-line"></div>
                <div class="burger-line"></div>
            </div>
            
            <h2 class="header-title">Catcher<span style="color:red">Star</span></h2>
            
            <div class="header-actions">
                <div class="search-box">
                    <input type="text" placeholder="Ø¨Ø­Ø«...">
                    <i>ğŸ”</i>
                </div>
                
                <div class="header-links">
                    <div class="header-icon">
                        <i>ğŸ””</i>
                        <span class="notification-badge">3</span>
                    </div>
                    <div class="header-icon">
                        <i>âœ‰ï¸</i>
                        <span class="notification-badge">5</span>
                    </div>
                </div>

                <div class="user-info">
                    <div class="user-details">
                        <div class="user-name">{{username}}</div>
                        <div class="user-role">Ù…Ø¯ÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù…</div>
                    </div>
                    <div class="user-avatar">{{username[:1]}}</div>
                </div>
            </div>
        </header>
        <!-- Main Content -->
        <main class="main-content">
            <!-- Stats Overview -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-title">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†</div>
                    <div class="stat-value">{{count_player}}</div>
                    <div class="stat-change">+12% Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±</div>
                </div>
                <div class="stat-card">
                    <div class="stat-title">Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø¨ÙŠØ¹</div>
                    <div class="stat-value">845</div>
                    <div class="stat-change">+8% Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹</div>
                </div>
                <div class="stat-card">
                    <div class="stat-title">Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ù†Ø§Ø¯Ø±Ø©</div>
                    <div class="stat-value">156</div>
                    <div class="stat-change">+5% Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±</div>
                </div>
                <div class="stat-card">
                    <div class="stat-title">Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ù†Ø´Ø·ÙŠÙ†</div>
                    <div class="stat-value">2,567</div>
                    <div class="stat-change">+15% Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±</div>
                </div>
            </div>
        
            <!-- Main Content Grid -->
            <div class="content-grid">
                <!-- Market Section -->
                <div class="market-section">
                    <div class="section-header">
                        <h3>Ø³ÙˆÙ‚ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†</h3>
                        <button class="action-button add_player">Ø¥Ø¶Ø§ÙØ© Ù„Ø§Ø¹Ø¨ Ù„Ù„Ø³ÙˆÙ‚</button>
                    </div>
        
                    <!-- Player Cards -->
                    <div class="players-container">
                        {% for listings in listings %}
                        <div class="player-card {{ listings.rarity.lower() }}">
                            <div class="card-sheen"></div>
                            
                            <!-- Image Section (Right Side) -->
                            <div class="player-image-container">
                                {% if listings.player_image_url %}
                                    <img src="{{ url_for('static', filename='uploads/image_player/' + listings.player_image_url) }}" 
                                         alt="{{ listings.player_name }}" 
                                         class="player-image"
                                         onerror="this.src='static/image/STAR CATCHER FINAL LOGO-11.png';">
                                {% else %}
                                    <div class="player-avatar">{{ listings.player_name[:1] }}</div>
                                {% endif %}
                            </div>
                            
                            <!-- Content Section (Left Side) -->
                            <div class="content-container">
                                <!-- Rating Circle -->
                                <div class="rating-circle">
                                    <span class="rating-number">{{ listings.player_rating }}</span>
                                    <span class="position">{{ listings.player_position }}</span>
                                </div>
                                
                                <!-- Player Details -->
                                <div class="player-details">
                                    <div class="player-name">{{ listings.player_name }}</div>
                                    <div class="player-meta">
                                        <span class="status">{{ listings.status }}</span>
                                    </div>
                                    <div class="player-price">{{ listings.price }} coins</div>
                                    <div class="created-date">{{ listings.expires_at }}</div>
                                </div>
                            </div>
                            
                            <!-- Delete Button -->
                            <button class="delete-btn" data-id="{{ listings.id }}">
                                <i class="fa-solid fa-trash"></i>
                            </button>
                            
                            <!-- Rarity Badge -->
                            <div class="rarity-indicator">
                                {% if listings.rarity.lower() == 'common' %}
                                    Ø¹Ø§Ø¯ÙŠ
                                {% elif listings.rarity.lower() == 'rare' %}
                                    Ù†Ø§Ø¯Ø±
                                {% elif listings.rarity.lower() == 'epic' %}
                                    Ø£Ø³Ø·ÙˆØ±ÙŠ
                                {% elif listings.rarity.lower() == 'legendary' %}
                                    Ø®Ø§Ø±Ù‚
                                {% endif %}
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                
                </div>
        
                <!-- Packages Section -->
                <div class="market-section">
                    <div class="section-header">
                        <h3>Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©</h3>
                        <button class="action-button add_pack">Ø¥Ù†Ø´Ø§Ø¡ Ø¨Ø§ÙƒØ¬ Ø¬Ø¯ÙŠØ¯</button>
                    </div>
                
                    {% for pack in packs %}
                        <div class="player-card">
                            <div class="player-image-container">
                                {% if pack.image_url %}
                                    <img src="{{ url_for('static', filename='uploads/packs/' + pack.image_url) }}" 
                                         alt="{{ pack.name }}" 
                                         class="player-image"
                                         onerror="this.src='static/image/STAR CATCHER FINAL LOGO-11.png';">
                                {% else %}
                                    <div class="player-avatar">{{ pack.name[:1] }}</div>
                                {% endif %}
                            </div>
                            <div class="content-container">
                                <div class="player-name">{{ pack.name }}</div>
                                <div class="player-stats">{{ pack.player_count }} Ù„Ø§Ø¹Ø¨ÙŠÙ† | Ø¶Ù…Ø§Ù† Ù„Ø§Ø¹Ø¨ Ù†Ø§Ø¯Ø±</div>
                                <div class="player-price">${{ pack.price }}</div>
                                <button class="action-button delete_pack" data-pack-id="{{ pack.id }}">Ø­Ø°Ù Ø§Ù„Ø¨Ø§ÙƒØ¬</button>
                            </div>
                        </div>
                    {% endfor %}
                </div>
                
                
            </div>
        


        <!-- Ø¥Ø¶Ø§ÙØ© Ø¨Ø§ÙƒØ¬ Ø¬Ø¯ÙŠØ¯Ù‡ -->

        <div class="modal-overlay" id="packModalOverlay"></div>
        <div class="slide-modal" id="packModal">
            <div class="modal-header">
                <h3 class="modal-title">Ø¥Ø¶Ø§ÙØ© Ø¨Ø§ÙƒØ¬ Ø¬Ø¯ÙŠØ¯</h3>
                <button class="close-modal" id="closePackModal">Ã—</button>
            </div>
            
            <div class="modal-body">
                <form id="newPackForm">
                    <div class="form-group">
                        <label class="form-label">Ø§Ø³Ù… Ø§Ù„Ø¨Ø§ÙƒØ¬</label>
                        <input type="text" class="form-input" name="name" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Ø§Ù„ÙˆØµÙ</label>
                        <textarea class="form-input" name="description" rows="4" required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Ø§Ù„Ø³Ø¹Ø±</label>
                        <input type="number" class="form-input" name="price" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Ø¹Ø¯Ø¯ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†</label>
                        <input type="number" class="form-input" name="player_count" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Ù†Ø³Ø¨ Ø§Ù„Ù†Ø§Ø¯Ø±ÙŠØ©</label>
                        <div class="rarity-grid">
                            <div class="rarity-input">
                                <label>Ø¹Ø§Ø¯ÙŠ</label>
                                <input type="number" class="form-input" name="rarity_common" value="70">
                            </div>
                            <div class="rarity-input">
                                <label>Ù†Ø§Ø¯Ø±</label>
                                <input type="number" class="form-input" name="rarity_rare" value="20">
                            </div>
                            <div class="rarity-input">
                                <label>Ø£Ø³Ø·ÙˆØ±ÙŠ</label>
                                <input type="number" class="form-input" name="rarity_epic" value="8">
                            </div>
                            <div class="rarity-input">
                                <label>Ø®Ø§Ø±Ù‚</label>
                                <input type="number" class="form-input" name="rarity_legendary" value="2">
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group image-upload" onclick="document.getElementById('imageInput').click()">
                        <input type="file" id="imageInput" accept="image/*" style="display: none">
                        <svg class="upload-icon" viewBox="0 0 24 24">
                            <path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>
                        </svg>
                        <div class="upload-text">Ø§Ø¶ØºØ· Ù„Ø¥Ø¶Ø§ÙØ© ØµÙˆØ±Ø© Ø§Ù„Ø¨Ø§ÙƒØ¬</div>
                        <div class="upload-subtext">PNG, JPG Ø­ØªÙ‰ 5 Ù…ÙŠØ¬Ø§Ø¨Ø§ÙŠØª</div>
                    </div>
                    
                    <div class="preview-container" style="display: none;">
                        <img class="preview-image" src="" alt="Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ±Ø©">
                        <button type="button" class="remove-image">Ã—</button>
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <input type="checkbox" name="is_active" checked>
                            ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¨Ø§ÙƒØ¬
                        </label>
                    </div>
                </form>
            </div>
            
            <div class="modal-footer">
                <button class="action-button" id="cancelPackBtn">Ø¥Ù„ØºØ§Ø¡</button>
                <button class="action-button" id="savePackBtn" style="background: linear-gradient(45deg, #00ff00, #44ff44);">Ø­ÙØ¸</button>
            </div>
        </div>

        <!-- Ø¥Ø¶Ø§ÙØ© Ù„Ø§Ø¹Ø¨ Ù„Ù„Ø³ÙˆÙ‚ -->

        <div class="modal-overlay" id="listingModalOverlay"></div>
        <div class="slide-modal" id="listingModal">
            <div class="modal-header">
                <h3 class="modal-title">Ø¥Ø¶Ø§ÙØ© Ù„Ø§Ø¹Ø¨ Ù„Ù„Ø³ÙˆÙ‚</h3>
                <button type="button" class="close-modal" id="closeListingModal" aria-label="Ø¥ØºÙ„Ø§Ù‚">Ã—</button>
            </div>
            
            <div class="modal-body">
                
                <form method="POST" id="newListingForm">
                    {{ formmarket.hidden_tag() }}
                    
                    <!-- CSRF Token -->
                    <meta name="csrf-token" content="{{ csrf_token }}">
                    
                    <div class="form-group">
                        <label class="form-label" for="playerSelect">{{ formmarket.player_id.label }}</label>
                        {{ formmarket.player_id(class="form-input", id="playerSelect", required=True) }}
                        <div class="invalid-feedback"></div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="price">{{ formmarket.price.label }}</label>
                        {{ formmarket.price(class="form-input", type="number", min="1", required=True) }}
                        <div class="invalid-feedback"></div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="expires_at">{{ formmarket.expires_at.label }}</label>
                        {{ formmarket.expires_at(class="form-input", type="datetime-local", required=True) }}
                        <div class="invalid-feedback"></div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="status">{{ formmarket.status.label }}</label>
                        {{ formmarket.status(class="form-input", required=True) }}
                        <div class="invalid-feedback"></div>
                    </div>
                    
                    <div class="modal-footer">
                        <button type="button" class="action-button" id="cancelListingBtn">Ø¥Ù„ØºØ§Ø¡</button>
                        <button type="submit" class="action-button primary-button" id="saveListingBtn">
                            Ø­ÙØ¸
                        </button>
                    </div>
                </form>
            </div>
        </div>



                <!-- Ù‚Ø³Ù… Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ© -->
                <div class="chart-section">
                    <h3>ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©</h3>
                    <div class="chart-container">
                        <canvas id="playerStatsChart"></canvas>
                    </div>
                </div>
            </main>
            
            <script>
                // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…ÙƒØªØ¨Ø© Chart.js
                const ctx = document.getElementById('playerStatsChart').getContext('2d');
                const playerStatsChart = new Chart(ctx, {
                    type: 'bar', // Ù†ÙˆØ¹ Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ
                    data: {
                        labels: ['Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†', 'Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø¨ÙŠØ¹', 'Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ù†Ø§Ø¯Ø±Ø©', 'Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ù†Ø´Ø·ÙŠÙ†'], // ØªØ³Ù…ÙŠØ§Øª Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                        datasets: [{
                            label: 'Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª',
                            data: [1234, 845, 156, 2567], // Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„ØªÙŠ Ø³ÙŠØªÙ… Ø¹Ø±Ø¶Ù‡Ø§ ÙÙŠ Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ
                            backgroundColor: 'rgba(255,0,0,0.3)',
                            borderColor: 'rgba(255,0,0,1)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });

            
            </script>
            <script>
                document.addEventListener('DOMContentLoaded', function() {
                    document.querySelectorAll('.delete-btn').forEach(button => {
                        button.addEventListener('click', async function(e) {
                            e.preventDefault();  // Ù…Ù†Ø¹ Ø§Ù„ÙØ¹Ù„ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù„Ù„Ø²Ø±
                            
                            const playerId = this.getAttribute('data-id');
                            
                            if (!playerId) {
                                showNotification("Ø®Ø·Ø£: Ù…Ø¹Ø±Ù Ø§Ù„Ù„Ø§Ø¹Ø¨ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯", "error");
                                return;
                            }
                            
                            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù„Ø§Ø¹Ø¨ØŸ')) {
                                try {
                                    const playerCard = this.closest('.player-card');
                                    if (!playerCard) {
                                        showNotification("Ø®Ø·Ø£: Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù„Ø§Ø¹Ø¨", "error");
                                        return;
                                    }
                                    
                                    // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ CSRF token Ù…Ù† Ø¹Ù„Ø§Ù…Ø© meta
                                    const csrfToken = document.querySelector('meta[name="csrf-token"]').getAttribute('content');
                                    
                                    playerCard.classList.add('deleting');
                                    this.disabled = true;
                                    
                                    const response = await fetch(`/delete-player-market/${playerId}`, {
                                        method: 'DELETE',
                                        headers: {
                                            'Accept': 'application/json',
                                            'Content-Type': 'application/json',
                                            'X-CSRFToken': csrfToken  // Ø¥Ø¶Ø§ÙØ© CSRF token Ù„Ù„Ø·Ù„Ø¨
                                        }
                                    });
                                    
                                    console.log("Response status:", response.status);
                                    const responseText = await response.text();
                                    console.log("Response text:", responseText);
                                    
                                    let data;
                                    try {
                                        data = JSON.parse(responseText);
                                    } catch (e) {
                                        throw new Error('Ø§Ø³ØªØ¬Ø§Ø¨Ø© ØºÙŠØ± ØµØ§Ù„Ø­Ø© Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…: ' + responseText);
                                    }
                                    
                                    if (response.ok) {
                                        setTimeout(() => {
                                            playerCard.remove();
                                            showNotification("ØªÙ… Ø§Ù„Ø­Ø°Ù Ø¨Ù†Ø¬Ø§Ø­!", "success");
                                        }, 500);
                                    } else {
                                        playerCard.classList.remove('deleting');
                                        this.disabled = false;
                                        showNotification(data.message || "ÙØ´Ù„ Ø§Ù„Ø­Ø°Ù", "error");
                                    }
                                } catch (error) {
                                    console.error('Error:', error);
                                    this.disabled = false;
                                    showNotification("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø­Ø°Ù: " + error.message, "error");
                                }
                            }
                        });
                    });
                });
                
                // Ø¯Ø§Ù„Ø© Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…
                function showNotification(message, type) {
                    const notification = document.createElement('div');
                    notification.textContent = message;
                    notification.className = `notification ${type}`;
                    notification.style.position = 'fixed';
                    notification.style.top = '20px';
                    notification.style.right = '20px';
                    notification.style.padding = '15px';
                    notification.style.borderRadius = '5px';
                    notification.style.zIndex = '1000';
                    notification.style.backgroundColor = type === 'success' ? '#4CAF50' : '#f44336';
                    notification.style.color = 'white';
                    
                    // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ø¥Ù„Ù‰ Ø§Ù„ØµÙØ­Ø©
                    document.body.appendChild(notification);
                    
                    // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ø¨Ø¹Ø¯ 3 Ø«ÙˆØ§Ù†Ù
                    setTimeout(() => {
                        notification.remove();
                    }, 3000);
                }
            </script>
            
            <div class="sidebar-overlay"></div>

            <script src="static/js/dashboard.js"></script>
            <script src="{{ url_for('static', filename='js/sidebar.js') }}"></script>
    </body>
</html>